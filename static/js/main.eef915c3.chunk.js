(this["webpackJsonpmulti-bloom"]=this["webpackJsonpmulti-bloom"]||[]).push([[0],{32:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(10),s=n.n(r),i=(n(31),n(32),n(43)),o=n(45),u=n.p+"static/media/logo.6ce24c58.svg",l=n(3),j=function(){var e=Object(l.jsx)(i.a.Brand,{className:"header-app-item",children:"Multi(\xd7)Bloom"}),t=Object(l.jsx)(i.a.Brand,{className:"header-app-item",children:Object(l.jsxs)(o.a.Link,{style:{margin:"0",padding:"0"},href:"https://reactjs.org/",target:"_blank",rel:"noreferrer",children:[Object(l.jsx)("img",{src:u,className:"App-logo",height:36,alt:"logo"}),"Powered by ReactJS"]})});return Object(l.jsxs)(i.a,{bg:"dark",variant:"dark",className:"justify-content-between fixed-top header-app",expand:"sm",children:[e,t]})},d=n(11),b=n(40),h=n(41),f=n(26),m=n(42),O=n(22),x=n(23),p=2*Math.PI,v=function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,null,[{key:"createOnCircle",value:function(e,t){var n=p/t;return e.map((function(e){var t=n*e;return new g(Math.sin(t),Math.cos(t))}))}},{key:"createCircleChords",value:function(e,t){for(var n=p/t,a=[],c=.5;c<t;c++){var r=c,s=c*e%t;a.push({start:new g(Math.sin(n*r),Math.cos(n*r)),end:new g(Math.sin(n*s),Math.cos(n*s))})}return a}}]),e}(),g=function(){function e(t,n){Object(O.a)(this,e),this.x=t,this.y=n}return Object(x.a)(e,[{key:"scale",value:function(t){return new e(t*this.x,t*this.y)}},{key:"toCanvasXY",value:function(t,n){return new e(Math.max(0,Math.round(t+this.x)),Math.max(0,Math.round(n-this.y)))}}]),e}();function C(e,t,n,a){return e.scale(t).toCanvasXY(n,a)}var N=function(e){var t=Object(a.useRef)(null),n=function(){var n,a=null===(n=t.current)||void 0===n?void 0:n.getContext("2d");if(a){var c=a.canvas,r=c.width,s=c.height,i=Math.floor(r/2),o=Math.floor(s/2),u=i,l=v.createCircleChords(e.coefficient,e.nbPoints).map((function(e){return function(e,t,n,a){return{start:C(e.start,t,n,a),end:C(e.end,t,n,a)}}(e,u,i,o)}));a.setTransform(1,0,0,1,0,0),a.translate(.5,.5),a.clearRect(0,0,r,s),a.beginPath(),a.strokeStyle="#000",a.arc(i,o,u,0,p),a.stroke(),a.beginPath(),l.forEach((function(e){a.moveTo(e.start.x,e.start.y),a.lineTo(e.end.x,e.end.y)})),a.stroke()}};return Object(a.useEffect)((function(){n()})),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("canvas",{width:e.canvasSize+1,height:e.canvasSize+1,style:{padding:10},ref:t})})},y=n(39),S=n(44),M=function(e){return Object(l.jsxs)(y.a,{className:"item-menu",children:[Object(l.jsx)(y.a.Prepend,{children:Object(l.jsx)(y.a.Text,{children:"Coefficient"})}),Object(l.jsx)(S.a.Control,{disabled:e.disabled,placeholder:"Coefficient",type:"number",step:z,value:e.coefficient,onChange:function(t){e.onChange(t.target.valueAsNumber)}})]})},k=function(e){return parseInt(String(e))},P=function(e){return parseFloat(String(e))};var T=function(e){return Object(l.jsxs)(y.a,{className:"item-menu",children:[Object(l.jsx)(y.a.Prepend,{children:Object(l.jsx)(y.a.Text,{children:"Step"})}),Object(l.jsx)(S.a.Control,{disabled:e.disabled,placeholder:"Step",type:"number",step:A,value:e.step,onChange:function(t){e.onChange(t.target.valueAsNumber)}})]})},w=function(e){return Object(l.jsxs)(y.a,{className:"item-menu",children:[Object(l.jsx)(y.a.Prepend,{children:Object(l.jsx)(y.a.Text,{children:"Modulo"})}),Object(l.jsx)(S.a.Control,{disabled:e.disabled,placeholder:"Number of points",type:"number",step:1,value:e.nbPoints,onChange:function(t){e.onChange(t.target.valueAsNumber)}})]})};function F(e){return Object(l.jsxs)(y.a,{className:"item-menu",children:[Object(l.jsx)(y.a.Prepend,{children:Object(l.jsx)(y.a.Text,{children:"Canvas size"})}),Object(l.jsx)(S.a.Control,{as:"select",placeholder:"Number of points",value:e.canvasSize,onChange:function(t){e.onChange(k(t.target.value))},children:[100,200,300,400,500,600,700,800,900,1e3].map((function(e){return Object(l.jsxs)("option",{value:e,children:[e," px"]},e)}))})]})}var z=0,A=.001,R=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useRef)(0),s=Object(a.useRef)(!1),i=Object(a.useState)(z),o=Object(d.a)(i,2),u=o[0],j=o[1],O=Object(a.useState)(666),x=Object(d.a)(O,2),p=x[0],v=x[1],g=Object(a.useState)(.005),C=Object(d.a)(g,2),y=C[0],S=C[1],R=Object(a.useState)(700),B=Object(d.a)(R,2),E=B[0],I=B[1],J=function e(){s.current&&(requestAnimationFrame(e),r.current+=y,X(r.current))},L=n?"outline-danger":"outline-success",q=n?"\u23f8\ufe0f STOP":"\u25b6\ufe0f START",X=function(e){var t=P(e.toFixed(4)),n=isNaN(t)?z:Math.max(t,z);r.current=n,j(n)};return Object(l.jsx)(b.a,{fluid:!0,className:"container-app",children:Object(l.jsxs)(h.a,{className:"justify-content-center",children:[Object(l.jsxs)(f.a,{className:"left-menu",children:[Object(l.jsx)(h.a,{className:"justify-content-center",children:Object(l.jsx)(M,{disabled:n,coefficient:u,onChange:X})}),Object(l.jsx)(h.a,{className:"justify-content-center",children:Object(l.jsx)(T,{disabled:n,step:y,onChange:function(e){var t=P(e.toFixed(4)),n=isNaN(t)?A:t;S(n)}})}),Object(l.jsx)(h.a,{className:"justify-content-center",children:Object(l.jsx)(w,{disabled:n,nbPoints:p,onChange:function(e){var t,n,a,c=k(e),r=isNaN(c)?1:(a=1e4,(n=c)<(t=1)?t:n>a?a:n);v(r)}})}),Object(l.jsx)(h.a,{className:"justify-content-center",children:Object(l.jsx)(F,{canvasSize:E,onChange:function(e){I(e)}})}),Object(l.jsx)(h.a,{className:"justify-content-center",children:Object(l.jsx)(m.a,{className:"item-menu",size:"lg",variant:L,onClick:function(){s.current=!s.current,c(s.current),s.current&&requestAnimationFrame(J)},children:q})}),Object(l.jsx)(h.a,{className:"justify-content-center",children:Object(l.jsx)(m.a,{className:"item-menu",size:"lg",variant:"outline-secondary",onClick:function(){console.log("reset"),s.current=!1,c(!1),S(.005),v(666)},children:"RESET"})})]}),Object(l.jsx)(f.a,{children:Object(l.jsx)(N,{coefficient:u,nbPoints:p,canvasSize:E})})]})})};var B=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(j,{}),Object(l.jsx)(R,{})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(B,{})}),document.getElementById("root")),E()}},[[37,1,2]]]);
//# sourceMappingURL=main.eef915c3.chunk.js.map