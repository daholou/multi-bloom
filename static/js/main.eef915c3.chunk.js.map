{"version":3,"sources":["assets/logo.svg","components/main/AppHeader.tsx","model/Point2D.ts","components/Canvas.tsx","components/InputCoefficient.tsx","model/utils.ts","components/InputStep.tsx","components/InputNbPoints.tsx","components/InputCanvasSize.tsx","components/main/MultiBloom.tsx","components/App.tsx","reportWebVitals.ts","index.tsx"],"names":["AppHeader","itemHome","Navbar","Brand","className","itemLogo","Nav","Link","style","margin","padding","href","target","rel","src","logo","height","alt","bg","variant","expand","TWO_PI","Math","PI","Point2DMaker","values","n","r","map","val","arg","Point2D","sin","cos","coefficient","result","i","ai","bi","push","start","end","x","y","lambda","this","centerX","centerY","max","round","toCanvasPoint2D","p","radius","cX","cY","scale","toCanvasXY","Canvas","props","canvasRef","useRef","paint","context","current","getContext","canvas","width","floor","rad","lines","createCircleChords","nbPoints","l","toCanvasLine2D","setTransform","translate","clearRect","beginPath","strokeStyle","arc","stroke","forEach","line","moveTo","lineTo","useEffect","canvasSize","ref","InputCoefficient","InputGroup","Prepend","Text","Form","Control","disabled","placeholder","type","step","MIN_COEFF","value","onChange","e","valueAsNumber","toInt","o","parseInt","String","toFloat","parseFloat","InputStep","MIN_STEP","InputNbPoints","InputCanvasSize","as","opt","MultiBloom","useState","isRunning","setIsRunning","refCoef","refRunning","setCoefficient","setNbPoints","setStep","setCanvasSize","tick","requestAnimationFrame","coefficientChangeHandler","btnVariant","btnText","newCoefficient","toFixed","num","isNaN","Container","fluid","Row","Col","newStep","newNbPoints","a","b","newCanvasSize","Button","size","onClick","console","log","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eef915c3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from \"react\";\r\nimport {Navbar, Nav} from \"react-bootstrap\";\r\nimport logo from \"../../assets/logo.svg\";\r\n\r\nexport const AppHeader = () =>\r\n{\r\n    const itemHome = (\r\n        <Navbar.Brand className=\"header-app-item\">\r\n            Multi(×)Bloom\r\n        </Navbar.Brand>);\r\n\r\n    const itemLogo = (\r\n        <Navbar.Brand className=\"header-app-item\">\r\n            <Nav.Link\r\n                style={{margin: '0', padding: '0'}}\r\n                href=\"https://reactjs.org/\"\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\">\r\n                <img src={logo}\r\n                     className=\"App-logo\"\r\n                     height={36}\r\n                     alt=\"logo\"/>\r\n                Powered by ReactJS\r\n            </Nav.Link>\r\n        </Navbar.Brand>);\r\n\r\n    return (\r\n        <Navbar bg=\"dark\" variant=\"dark\"\r\n                className=\"justify-content-between fixed-top header-app\"\r\n                expand=\"sm\">\r\n            {itemHome}\r\n            {itemLogo}\r\n        </Navbar>\r\n    );\r\n}\r\n","export const TWO_PI = Math.PI * 2;\r\n\r\n\r\nexport class Point2DMaker\r\n{\r\n    static createOnCircle(values: number[], n: number)\r\n        : Point2D[]\r\n    {\r\n        const r = TWO_PI / n;\r\n\r\n        return values.map(val =>\r\n        {\r\n            const arg = r * val;\r\n            return new Point2D(\r\n                Math.sin(arg),\r\n                Math.cos(arg)\r\n            );\r\n        });\r\n    }\r\n\r\n    static createCircleChords(coefficient: number, n: number) : Line2D[]\r\n    {\r\n        const r = TWO_PI / n;\r\n        const result: Line2D[] = [];\r\n\r\n        for(let i=0.5; i<n; i++)\r\n        {\r\n            const ai = i;\r\n            const bi = (i * coefficient) % n;\r\n            result.push({\r\n                start: new Point2D(Math.sin(r*ai), Math.cos(r*ai)),\r\n                end: new Point2D(Math.sin(r*bi), Math.cos(r*bi)),\r\n            });\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n\r\nexport class Point2D\r\n{\r\n    constructor(public x: number,\r\n                public y: number)\r\n    {\r\n    }\r\n\r\n    scale(lambda: number): Point2D\r\n    {\r\n        return new Point2D(lambda * this.x, lambda * this.y);\r\n    }\r\n\r\n    toCanvasXY(centerX: number, centerY: number): Point2D\r\n    {\r\n        const newX = Math.max(0, Math.round(centerX + this.x));\r\n        const newY = Math.max(0, Math.round(centerY - this.y));\r\n        return new Point2D(newX, newY);\r\n    }\r\n}\r\n\r\nexport interface Line2D\r\n{\r\n    start: Point2D;\r\n    end: Point2D;\r\n}\r\n\r\nexport function toCanvasPoint2D(p: Point2D, radius: number,\r\n                                cX: number, cY: number): Point2D\r\n{\r\n    return p.scale(radius).toCanvasXY(cX, cY);\r\n}\r\n\r\nexport function toCanvasLine2D(l: Line2D, radius: number,\r\n                               cX: number, cY: number): Line2D\r\n{\r\n    return {\r\n        start: toCanvasPoint2D(l.start, radius, cX, cY),\r\n        end: toCanvasPoint2D(l.end, radius, cX, cY),\r\n    };\r\n}\r\n","import {useEffect, useRef} from \"react\";\r\nimport {Point2DMaker, toCanvasLine2D, TWO_PI} from \"../model/Point2D\";\r\n\r\ninterface Props\r\n{\r\n    coefficient: number;\r\n    nbPoints: number;\r\n    canvasSize: number;\r\n}\r\n\r\nexport const Canvas = (props: Props) =>\r\n{\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n\r\n    const paint = () =>\r\n    {\r\n        const context = canvasRef.current?.getContext('2d');\r\n        if (context)\r\n        {\r\n            const {width, height} = context.canvas;\r\n            const cX = Math.floor(width/2);\r\n            const cY = Math.floor(height/2);\r\n            const rad = cX;\r\n\r\n            const initLines = Point2DMaker.createCircleChords(\r\n                props.coefficient,\r\n                props.nbPoints);\r\n            const lines = initLines.map(l =>\r\n                toCanvasLine2D(l, rad, cX, cY));\r\n\r\n            // Reset current transformation matrix to the identity matrix\r\n            context.setTransform(1, 0, 0, 1, 0, 0);\r\n            context.translate(0.5, 0.5);\r\n\r\n            context.clearRect(0, 0, width, height);\r\n\r\n            //context.save();\r\n            context.beginPath();\r\n            context.strokeStyle = '#000';\r\n            context.arc(cX, cY, rad, 0, TWO_PI);\r\n            context.stroke();\r\n\r\n            context.beginPath();\r\n            // context.strokeStyle = '#F00';\r\n            lines.forEach(line =>\r\n            {\r\n                context.moveTo(line.start.x, line.start.y);\r\n                context.lineTo(line.end.x, line.end.y);\r\n            });\r\n            context.stroke();\r\n            //context.restore();\r\n        }\r\n    }\r\n\r\n    useEffect(() =>\r\n    {\r\n        paint();\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <canvas\r\n                width={props.canvasSize+1}\r\n                height={props.canvasSize+1}\r\n                style={{\r\n                    padding: 10,\r\n\r\n                    // display: 'block',\r\n\r\n                    // width: `${CANVAS_SIZE}px`,\r\n                    // height: `${CANVAS_SIZE}px`\r\n                }}\r\n                ref={canvasRef}\r\n            />\r\n        </>\r\n    );\r\n}\r\n","import {Form, InputGroup} from \"react-bootstrap\"\r\nimport {MIN_COEFF} from \"./main/MultiBloom\";\r\n\r\ninterface Props\r\n{\r\n    disabled: boolean;\r\n    coefficient: number;\r\n    onChange: (coefficient: number) => void;\r\n}\r\n\r\nexport const InputCoefficient = (props: Props) =>\r\n{\r\n    const onChangeHandler = (e: any) =>\r\n    {\r\n        props.onChange(e.target.valueAsNumber);\r\n    }\r\n\r\n    return (\r\n        <InputGroup className=\"item-menu\">\r\n            <InputGroup.Prepend>\r\n                <InputGroup.Text>\r\n                    Coefficient\r\n                </InputGroup.Text>\r\n            </InputGroup.Prepend>\r\n            <Form.Control\r\n                disabled={props.disabled}\r\n                placeholder=\"Coefficient\"\r\n                type=\"number\"\r\n                step={MIN_COEFF}\r\n                value={props.coefficient}\r\n                onChange={onChangeHandler}>\r\n            </Form.Control>\r\n        </InputGroup>\r\n    );\r\n}\r\n","export const toInt = (o: any): number =>\r\n{\r\n    return parseInt(String(o));\r\n}\r\n\r\nexport const toFloat = (o: any): number =>\r\n{\r\n    return parseFloat(String(o));\r\n}\r\n\r\nexport function clamp(a: number, x: number, b: number)\r\n{\r\n    return x < a ? a : x > b ? b : x;\r\n}\r\n","import {Form, InputGroup} from \"react-bootstrap\"\r\nimport {MIN_STEP} from \"./main/MultiBloom\";\r\n\r\ninterface Props\r\n{\r\n    disabled: boolean;\r\n    step: number;\r\n    onChange: (step: number) => void;\r\n}\r\n\r\nexport const InputStep = (props: Props) =>\r\n{\r\n    const onChangeHandler = (e: any) =>\r\n    {\r\n        props.onChange(e.target.valueAsNumber);\r\n    }\r\n\r\n    return (\r\n        <InputGroup className=\"item-menu\">\r\n            <InputGroup.Prepend>\r\n                <InputGroup.Text>\r\n                    Step\r\n                </InputGroup.Text>\r\n            </InputGroup.Prepend>\r\n            <Form.Control\r\n                disabled={props.disabled}\r\n                placeholder=\"Step\"\r\n                type=\"number\"\r\n                step={MIN_STEP}\r\n                value={props.step}\r\n                onChange={onChangeHandler}>\r\n            </Form.Control>\r\n        </InputGroup>\r\n    );\r\n}\r\n","import {Form, InputGroup} from \"react-bootstrap\"\r\n\r\ninterface Props\r\n{\r\n    disabled: boolean;\r\n    nbPoints: number;\r\n    onChange: (nbPoints: number) => void;\r\n}\r\n\r\nexport const InputNbPoints = (props: Props) =>\r\n{\r\n    const onChangeHandler = (e: any) =>\r\n    {\r\n        props.onChange(e.target.valueAsNumber);\r\n    }\r\n\r\n    return (\r\n        <InputGroup className=\"item-menu\">\r\n            <InputGroup.Prepend>\r\n                <InputGroup.Text>\r\n                    Modulo\r\n                </InputGroup.Text>\r\n            </InputGroup.Prepend>\r\n            <Form.Control\r\n                disabled={props.disabled}\r\n                placeholder=\"Number of points\"\r\n                type=\"number\"\r\n                step={1}\r\n                value={props.nbPoints}\r\n                onChange={onChangeHandler}>\r\n            </Form.Control>\r\n        </InputGroup>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport {Form, InputGroup} from \"react-bootstrap\";\r\nimport {toInt} from \"../model/utils\";\r\n\r\ninterface Props\r\n{\r\n    canvasSize: number;\r\n    onChange: (canvasSize: number) => void;\r\n}\r\n\r\nexport function InputCanvasSize(props: Props)\r\n{\r\n    const onChangeHandler = (e: any) =>\r\n    {\r\n        props.onChange(toInt(e.target.value));\r\n    }\r\n\r\n    const options = [100, 200, 300, 400, 500, 600, 700, 800, 900, 1000];\r\n\r\n    return (\r\n        <InputGroup className=\"item-menu\">\r\n            <InputGroup.Prepend>\r\n                <InputGroup.Text>\r\n                    Canvas size\r\n                </InputGroup.Text>\r\n            </InputGroup.Prepend>\r\n            <Form.Control\r\n                as=\"select\"\r\n                placeholder=\"Number of points\"\r\n                value={props.canvasSize}\r\n                onChange={onChangeHandler}>\r\n                {options.map(opt =>\r\n                    <option key={opt} value={opt}>{opt} px</option>\r\n                )}\r\n            </Form.Control>\r\n        </InputGroup>\r\n    );\r\n}\r\n","import React, {useRef, useState} from \"react\";\r\nimport {Button, Container, Row, Col} from \"react-bootstrap\";\r\nimport {Canvas} from \"../Canvas\";\r\nimport {InputCoefficient} from \"../InputCoefficient\";\r\nimport {clamp, toFloat, toInt} from \"../../model/utils\";\r\nimport {InputStep} from \"../InputStep\";\r\nimport {InputNbPoints} from \"../InputNbPoints\";\r\nimport {InputCanvasSize} from \"../InputCanvasSize\";\r\n\r\nexport const MIN_COEFF = 0;\r\nexport const MIN_STEP = 0.001;\r\nexport const AVG_STEP = 0.005;\r\nexport const MIN_NB_POINTS = 1;\r\nexport const AVG_NB_POINTS = 666;\r\nexport const MAX_NB_POINTS = 10000;\r\n\r\nexport const MultiBloom = () =>\r\n{\r\n    const [isRunning, setIsRunning] = useState(false);\r\n    const refCoef = useRef(0);\r\n    const refRunning = useRef(false);\r\n\r\n    const [coefficient, setCoefficient] = useState(MIN_COEFF);\r\n    const [nbPoints, setNbPoints] = useState(AVG_NB_POINTS);\r\n    const [step, setStep] = useState(AVG_STEP);\r\n    const [canvasSize, setCanvasSize] = useState(700);\r\n\r\n    const tick = () =>\r\n    {\r\n        //console.log(`ticking.... ${refCoef.current}`);\r\n        if(refRunning.current)\r\n        {\r\n            requestAnimationFrame(tick);\r\n            refCoef.current += step;\r\n            coefficientChangeHandler(refCoef.current);\r\n        }\r\n    };\r\n\r\n    const onClickHandler = () =>\r\n    {\r\n        refRunning.current = !refRunning.current;\r\n        setIsRunning(refRunning.current);\r\n        if(refRunning.current)\r\n        {\r\n            requestAnimationFrame(tick);\r\n        }\r\n    };\r\n\r\n    const onResetHandler = () =>\r\n    {\r\n        console.log('reset')\r\n        refRunning.current = false;\r\n        setIsRunning(false);\r\n        setStep(AVG_STEP);\r\n        setNbPoints(AVG_NB_POINTS);\r\n    };\r\n\r\n    const btnVariant = isRunning ? 'outline-danger' : 'outline-success';\r\n    const btnText = isRunning ? '⏸️ STOP' : '▶️ START';\r\n\r\n    const coefficientChangeHandler = (newCoefficient: number) =>\r\n    {\r\n        const val = toFloat(newCoefficient.toFixed(4));\r\n        const num = isNaN(val) ? MIN_COEFF : Math.max(val, MIN_COEFF);\r\n        refCoef.current = num;\r\n        setCoefficient(num);\r\n        //console.log(num);\r\n    }\r\n\r\n    const stepChangeHandler = (newStep: number) =>\r\n    {\r\n        const val = toFloat(newStep.toFixed(4));\r\n        const num = isNaN(val) ? MIN_STEP : val;\r\n        setStep(num);\r\n        //console.log(num);\r\n    }\r\n\r\n    const nbPointsChangeHandler = (newNbPoints: number) =>\r\n    {\r\n        const val = toInt(newNbPoints);\r\n        const num = isNaN(val)\r\n            ? MIN_NB_POINTS\r\n            : clamp(MIN_NB_POINTS, val, MAX_NB_POINTS);\r\n        setNbPoints(num);\r\n        //console.log(num);\r\n    }\r\n\r\n    const canvasSizeChangeHandler = (newCanvasSize: number) =>\r\n    {\r\n        setCanvasSize(newCanvasSize);\r\n    }\r\n\r\n    return (\r\n        <Container fluid className=\"container-app\">\r\n\r\n            <Row className=\"justify-content-center\">\r\n                <Col className=\"left-menu\">\r\n\r\n                    <Row className=\"justify-content-center\">\r\n                        <InputCoefficient\r\n                            disabled={isRunning}\r\n                            coefficient={coefficient}\r\n                            onChange={coefficientChangeHandler}/>\r\n                    </Row>\r\n                    <Row className=\"justify-content-center\">\r\n                        <InputStep\r\n                            disabled={isRunning}\r\n                            step={step}\r\n                            onChange={stepChangeHandler}/>\r\n                    </Row>\r\n                    <Row className=\"justify-content-center\">\r\n                        <InputNbPoints\r\n                            disabled={isRunning}\r\n                            nbPoints={nbPoints}\r\n                            onChange={nbPointsChangeHandler}/>\r\n                    </Row>\r\n                    <Row className=\"justify-content-center\">\r\n                        <InputCanvasSize canvasSize={canvasSize}\r\n                                         onChange={canvasSizeChangeHandler}/>\r\n                    </Row>\r\n\r\n                    <Row className=\"justify-content-center\">\r\n                        <Button className=\"item-menu\"\r\n                                size={\"lg\"}\r\n                                variant={btnVariant}\r\n                                onClick={onClickHandler}>\r\n                            {btnText}\r\n                        </Button>\r\n                    </Row>\r\n\r\n                    <Row className=\"justify-content-center\">\r\n                        <Button className=\"item-menu\"\r\n                                size={\"lg\"}\r\n                                variant={'outline-secondary'}\r\n                                onClick={onResetHandler}>\r\n                            RESET\r\n                        </Button>\r\n                    </Row>\r\n                </Col>\r\n                <Col>\r\n                    <Canvas coefficient={coefficient}\r\n                            nbPoints={nbPoints}\r\n                            canvasSize={canvasSize}/>\r\n                </Col>\r\n            </Row>\r\n\r\n\r\n        </Container>\r\n    );\r\n}\r\n","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../assets/base.css';\nimport {AppHeader} from \"./main/AppHeader\";\nimport {MultiBloom} from \"./main/MultiBloom\";\n\nfunction App()\n{\n    return (\n        <div className=\"App\">\n            <AppHeader/>\n            <MultiBloom/>\n        </div>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}